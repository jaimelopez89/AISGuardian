# AIS Watchdog Flink Job Configuration
# These can be overridden by environment variables

# Kafka Configuration
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
kafka.group.id=${KAFKA_GROUP_ID:ais-watchdog-flink}

# Kafka Topics
kafka.topic.ais.raw=ais-raw
kafka.topic.ais.enriched=ais-enriched
kafka.topic.alerts=alerts
kafka.topic.vessel.state=vessel-state
kafka.topic.reference.data=reference-data

# SSL Configuration (for Aiven)
# Set these environment variables when connecting to Aiven:
# KAFKA_SSL_CA_CERT=/path/to/ca.pem
# KAFKA_SSL_CERT=/path/to/service.cert
# KAFKA_SSL_KEY=/path/to/service.key

# Flink Configuration
flink.parallelism.default=2
flink.checkpoint.interval.ms=60000

# Detection Thresholds

# Dark Event Detection
# Minimum gap (in minutes) before considering a vessel "dark"
detection.dark.threshold.minutes=120
# Gap multiplier - alert if gap > average_interval * this value
detection.dark.gap.multiplier=10

# Rendezvous Detection
# Maximum distance (in meters) for vessels to be considered "meeting"
detection.rendezvous.distance.meters=500
# Minimum duration (in minutes) for a meeting to be suspicious
detection.rendezvous.duration.minutes=30
# Minimum distance from port (in nautical miles) for open sea detection
detection.rendezvous.min.port.distance.nm=50

# Fishing Pattern Detection
# Maximum average speed (in knots) for fishing behavior
detection.fishing.max.speed.knots=5.0
# Minimum course changes per hour
detection.fishing.min.course.changes=10

# Geofence Detection
# Cooldown period before re-alerting same vessel in same zone (minutes)
detection.geofence.cooldown.minutes=60

# Logging
logging.level.com.aiswatchdog=INFO
logging.level.org.apache.flink=WARN
logging.level.org.apache.kafka=WARN
